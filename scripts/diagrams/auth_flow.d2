// Authentication & Authorization Flow (D2)
// WCAG-compliant colors and v0.7.0 style


User: {
  label: "User"
  shape: person
  style: {
    fill: "#f9f871",
    stroke: "#22223b"
  }
}

Register: {
  label: "/api/register"
  shape: rectangle
  style: {
    fill: "#b5179e",
    stroke: "#22223b",
    font-color: "#ffffff"
  }
}

Login: {
  label: "/api/login"
  shape: rectangle
  style: {
    fill: "#b5179e",
    stroke: "#22223b",
    font-color: "#ffffff"
  }
}

APIKey: {
  label: "API Key"
  shape: rectangle
  style: {
    fill: "#4f8cff",
    stroke: "#22223b",
    font-color: "#ffffff"
  }
}

API: {
  label: "API Endpoint"
  shape: rectangle
  style: {
    fill: "#4f8cff",
    stroke: "#22223b",
    font-color: "#ffffff"
  }
}

User -> Register: "Registers"
Register -> APIKey: "Issues"
User -> Login: "Logs in"
Login -> APIKey: "Issues"
User -> API: "Sends request"
API -> APIKey: "Validates"
APIKey -> API: "Grants access"
